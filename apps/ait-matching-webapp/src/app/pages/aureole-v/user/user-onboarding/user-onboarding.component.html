<ait-template-popup [width]="1000" [isLoading]="true" [isPage]="false" *ngIf="user_key">
  <div class="template__popup" id="user_onboarding">
    <ait-text-gradient
      [content]="getTitleByMode()"
      id="form_edit_user_onboarding"
    ></ait-text-gradient>
    <ait-card-content style="justify-content: center" class="content__card">
      <div style="margin-top: 14px">
        <div class="input_area">
          <ait-input-text
            [id]="'first_name'"
            [label]="'FIRST NAME'"
            [length]="200"
            [width]="400"
            [required]="true"
            [isSubmit]="isSubmit"
            [isReset]="resetUserInfo.first_name"
            [readonly]="userOnbInfo.first_name"
            [placeholder]="'PHUC'"
            (watchValue)="takeInputValue($event, 'first_name')"
            [defaultValue]="userOnboardingInfo.controls['first_name'].value"
          ></ait-input-text>
        </div>
        <div class="input_area">
          <ait-input-text
            [id]="'last_name'"
            [label]="'LAST NAME'"
            [length]="200"
            [width]="400"
            [required]="true"
            [isSubmit]="isSubmit"
            [isReset]="resetUserInfo.last_name"
            [readonly]="userOnbInfo.last_name"
            [placeholder]="'LAM QUANG'"
            (watchValue)="takeInputValue($event, 'last_name')"
            [defaultValue]="userOnboardingInfo.controls['last_name'].value"
          ></ait-input-text>
        </div>
        <div class="input_area">
          <ait-input-text
            *ngIf="isLangJP"
            [id]="'katakana'"
            [label]="'KATAKANA'"
            [length]="200"
            [width]="400"
            [isSubmit]="isSubmit"
            [isReset]="resetUserInfo.katakana"
            [readonly]="userOnbInfo.katakana"
            [placeholder]="'ラムクアンフック'"
            (watchValue)="takeInputValue($event, 'katakana')"
            [defaultValue]="userOnboardingInfo.controls['katakana'].value"
          ></ait-input-text>
        </div>
        <div class="input_area">
          <ait-input-text
            *ngIf="isLangJP"
            [id]="'romaji'"
            [label]="'ROMAJI'"
            [length]="200"
            [width]="400"
            [isSubmit]="isSubmit"
            [isReset]="resetUserInfo.romaji"
            [readonly]="userOnbInfo.romaji"
            [placeholder]="'ramu kuan fukku'"
            (watchValue)="takeInputValue($event, 'romaji')"
            [defaultValue]="userOnboardingInfo.controls['romaji'].value"
          ></ait-input-text>
        </div>
        <div class="input_area">
          <ait-label
            class="ait-label"
            [label]="'GENDER'"
            id="gender"
            [required]="true"
          ></ait-label>
          <div>
            <nb-radio-group >
              <nb-radio
                [disabled]="userOnbInfo.gender ? true : false"
                [tabIndex]="5"
                *ngFor="let option of genderList; let isDefault = three"
                [value]="option"
                [checked]="
                  userOnboardingInfo.controls['gender'].value
                    ? userOnboardingInfo.controls['gender'].value?._key ==
                      option.code
                    : isDefault
                "
                (valueChange)="takeGenderValue($event)"
              >
                {{ option.name }}
              </nb-radio>
            </nb-radio-group>
          </div>
        </div>
        <div class="input_area">
          <ait-datepicker
            [id]="'bod'"
            [label]="'BORN ON DATE'"
            [required]="true"
            [readonly]="userOnbInfo.bod"
            [isSubmit]="isSubmit"
            [style]="{ width: '180px' }"
            [isReset]="resetUserInfo.bod"
            [placeholder]="'01/01/1985'"
            (watchValue)="
              takeDatePickerValue($event?.value, 'userOnboardingInfo', 'bod')
            "
            [dateInput]="userOnboardingInfo.controls['bod'].value"
          ></ait-datepicker>
        </div>
        <div class="input_area">
          <ait-input-text
            [length]="15"
            [width]="400"
            [required]="true"
            [isSubmit]="isSubmit"
            [id]="'phone_number'"
            [label]="'PHONE NUMBER'"
            [placeholder]="'0912345678'"
            [isReset]="resetUserInfo.phone_number"
            [readonly]="userOnbInfo.phone_number"
            (watchValue)="takeInputValue($event, 'phone_number')"
            [defaultValue]="userOnboardingInfo.controls['phone_number'].value"
          >
          </ait-input-text>
        </div>
        <div class="input_area" >
          <ait-input-text
            [rows]="4"
            [id]="'about'"
            [length]="4000"
            [label]="'ABOUT'"
            [width]="400"
            [placeholder]="'Place your text'"
            [isReset]="resetUserInfo.about"
            [readonly]="userOnbInfo.about"
            (watchValue)="takeInputValue($event, 'about')"
            [defaultValue]="userOnboardingInfo.controls['about'].value"
          >
          </ait-input-text>
        </div>
        <div class="input_area">
          <ait-country
            [width]="'400px'"
            (watchValue)="takeValueCountry($event)"
            [isReset]="isResetCountry"
            [defaultValue]="userOnboardingInfo.value"
            [isClear]="isClear"
            [isSubmit]="isSubmit"
            [readonly]="userOnbInfo.floor_building"
          ></ait-country>
        </div>
        
        <div class="input_area">
          <ait-input-text
            [id]="'address'"
            [length]="500"
            [width]="400"
            [required]="true"
            [label]="'ADDRESS'"
            [placeholder]="'9 Dinh Tien Hoang Street'"
            [isReset]="resetUserInfo.address"
            [isSubmit]="isSubmit"
            [readonly]="userOnbInfo.floor_building"
            (watchValue)="takeInputValue($event, 'address')"
            [defaultValue]="userOnboardingInfo.controls['address'].value"
          >
          </ait-input-text>
        </div>
        <div class="input_area">
          <ait-input-text
            [id]="'floor_building'"
            [label]="'FLOOR/BUILDING'"
            [length]="500"
            [width]="400"
            [placeholder]="'Floor 9, SFC Building'"
            [isReset]="resetUserInfo.floor_building"
            [isSubmit]="isSubmit"
            [readonly]="userOnbInfo.floor_building"
            (watchValue)="takeInputValue($event, 'floor_building')"
            [defaultValue]="userOnboardingInfo.controls['floor_building'].value"
          >
          </ait-input-text>
        </div>
        <div class="input_area">
          <ait-autocomplete-master-data
            [id]="'company_working'"
            [label]="'COMPANY WORKING'"
            [isSubmit]="isSubmit"
            [allowNew]="true"
            [maxItem]="1"
            [placeholder]="'Aureole IT'"
            [collection]="'m_company'"
            [disableOutputDefault]="true"
            [isReset]="resetUserInfo.company_working"
            [isReadOnly]="userOnbInfo.company_working"
            (watchValue)="takeMasterValue($event, 'company_working')"
            [defaultValue]="[
              userOnboardingInfo.controls['company_working'].value
            ]"
          ></ait-autocomplete-master-data>
        </div>
        <div class="input_area">
          <ait-autocomplete-master-data
            [id]="'title'"
            [label]="'TITLE'"
            [isSubmit]="isSubmit"
            [allowNew]="true"
            [maxItem]="1"
            [placeholder]="'Technical Manager'"
            [collection]="'m_title'"
            [disableOutputDefault]="true"
            [isReset]="resetUserInfo.title"
            [isReadOnly]="userOnbInfo.title"
            (watchValue)="takeMasterValue($event, 'title')"
            [defaultValue]="[userOnboardingInfo.controls['title'].value]"
          ></ait-autocomplete-master-data>
        </div>
        <div class="input_area">
          <ait-autocomplete-master-data
            [id]="'industry'"
            [label]="'INDUSTRY'"
            [required]="true"
            [isSubmit]="isSubmit"
            [allowNew]="true"
            [maxItem]="1"
            [placeholder]="'Computer Software'"
            [collection]="'m_industry'"
            [disableOutputDefault]="true"
            [isReset]="resetUserInfo.industry"
            [isReadOnly]="userOnbInfo.industry"
            (watchValue)="takeMasterValue($event, 'industry')"
            [defaultValue]="[userOnboardingInfo.controls['industry'].value]"
          ></ait-autocomplete-master-data>
        </div>
        <div *ngIf="mode === 'NEW'" class="input_area">
          <ait-autocomplete-master-data
            [id]="'skills'"
            [label]="'SKILLS (MAX 10)'"
            [required]="true"
            [isSubmit]="isSubmit"
            [allowNew]="true"
            [maxItem]="10"
            [placeholder]="'Fill name and enter to add your skills'"
            [collection]="'m_skill'"
            [disableOutputDefault]="true"
            [isReset]="resetUserInfo.skills"
            (watchValue)="
              takeMasterValues($event?.value, 'userOnboardingInfo', 'skills')
            "
          ></ait-autocomplete-master-data>
        </div>
      </div>
    </ait-card-content>
    <div class="sticky">
      <div class="action-row">
        <div class="block">
          <ait-button
            *ngIf="mode !== 'VIEW'"
            [id]="'cancel'"
            [title]="'CANCEL'"
            [width]="'200px'"
            [isDefault]="true"
            (click)="back()"
          ></ait-button>

          <ait-button
            *ngIf="mode === 'EDIT'"
            [id]="'delete'"
            [width]="'200px'"
            [title]="'DELETE'"
            [isDefault]="true"
            (click)="onDelete()"
          >
          </ait-button>

          <ait-button
            *ngIf="mode !== 'VIEW'"
            [id]="'reset'"
            [width]="'200px'"
            [title]="'RESET'"
            [isDefault]="true"
            (click)="resetForm()"
          >
          </ait-button>

          <ait-button
            *ngIf="(isChanged && mode === 'EDIT') || mode === 'NEW'"
            [id]="'save'"
            [width]="'200px'"
            [title]="'SAVE'"
            (click)="save()"
            [isDefault]="true"
          >
          </ait-button>
          <ait-button
            *ngIf="!isChanged && mode === 'EDIT'"
            [id]="'save'"
            [width]="'200px'"
            [title]="'SAVE'"
            [style]="'disabled'"
          ></ait-button>
        </div>
      </div>
    </div>
  </div>
</ait-template-popup>
<div class="user__onboarding__wrapper" id="user_onboarding" *ngIf="!user_key">
  <ait-text-gradient
    [content]="getTitleByMode()"
    id="form_edit_user_onboarding"
  ></ait-text-gradient>
  <ait-card-content style="justify-content: center" class="content__card">
    <div style="margin-top: 14px">

      <div style="margin-top: 14px">
        <div class="input_area">
          <ait-input-text
            [id]="'first_name'"
            [label]="'FIRST NAME'"
            [length]="200"
            [width]="400"
            [required]="true"
            [isSubmit]="isSubmit"
            [isReset]="resetUserInfo.first_name"
            [readonly]="userOnbInfo.first_name"
            [placeholder]="'PHUC'"
            (watchValue)="takeInputValue($event, 'first_name')"
            [defaultValue]="userOnboardingInfo.controls['first_name'].value"
          ></ait-input-text>
        </div>
        <div class="input_area">
          <ait-input-text
            [id]="'last_name'"
            [label]="'LAST NAME'"
            [length]="200"
            [width]="400"
            [required]="true"
            [isSubmit]="isSubmit"
            [isReset]="resetUserInfo.last_name"
            [readonly]="userOnbInfo.last_name"
            [placeholder]="'LAM QUANG'"
            (watchValue)="takeInputValue($event, 'last_name')"
            [defaultValue]="userOnboardingInfo.controls['last_name'].value"
          ></ait-input-text>
        </div>
        <div class="input_area">
          <ait-input-text
            *ngIf="isLangJP"
            [id]="'katakana'"
            [label]="'KATAKANA'"
            [length]="200"
            [width]="400"
            [isSubmit]="isSubmit"
            [isReset]="resetUserInfo.katakana"
            [readonly]="userOnbInfo.katakana"
            [placeholder]="'ラムクアンフック'"
            (watchValue)="takeInputValue($event, 'katakana')"
            [defaultValue]="userOnboardingInfo.controls['katakana'].value"
          ></ait-input-text>
        </div>
        <div class="input_area">
          <ait-input-text
            *ngIf="isLangJP"
            [id]="'romaji'"
            [label]="'ROMAJI'"
            [length]="200"
            [width]="400"
            [isSubmit]="isSubmit"
            [isReset]="resetUserInfo.romaji"
            [readonly]="userOnbInfo.romaji"
            [placeholder]="'ramu kuan fukku'"
            (watchValue)="takeInputValue($event, 'romaji')"
            [defaultValue]="userOnboardingInfo.controls['romaji'].value"
          ></ait-input-text>
        </div>
        <div class="input_area">
          <ait-label
            class="ait-label"
            [label]="'GENDER'"
            id="gender"
            [required]="true"
          ></ait-label>
          <div>
            <nb-radio-group >
              <nb-radio
                [disabled]="userOnbInfo.gender ? true : false"
                [tabIndex]="5"
                *ngFor="let option of genderList; let isDefault = three"
                [value]="option"
                [checked]="
                  userOnboardingInfo.controls['gender'].value
                    ? userOnboardingInfo.controls['gender'].value?._key ==
                      option.code
                    : isDefault
                "
                (valueChange)="takeGenderValue($event)"
              >
                {{ option.name }}
              </nb-radio>
            </nb-radio-group>
          </div>
        </div>
        <div class="input_area">
          <ait-datepicker
            [id]="'bod'"
            [label]="'BORN ON DATE'"
            [required]="true"
            [readonly]="userOnbInfo.bod"
            [isSubmit]="isSubmit"
            [style]="{ width: '180px' }"
            [isReset]="resetUserInfo.bod"
            [placeholder]="'01/01/1985'"
            (watchValue)="
              takeDatePickerValue($event?.value, 'userOnboardingInfo', 'bod')
            "
            [dateInput]="userOnboardingInfo.controls['bod'].value"
          ></ait-datepicker>
        </div>
        <div class="input_area">
          <ait-input-text
            [length]="15"
            [width]="400"
            [required]="true"
            [isSubmit]="isSubmit"
            [id]="'phone_number'"
            [label]="'PHONE NUMBER'"
            [placeholder]="'0912345678'"
            [isReset]="resetUserInfo.phone_number"
            [readonly]="userOnbInfo.phone_number"
            (watchValue)="takeInputValue($event, 'phone_number')"
            [defaultValue]="userOnboardingInfo.controls['phone_number'].value"
          >
          </ait-input-text>
        </div>
        <div class="input_area" >
          <ait-input-text
            [rows]="4"
            [id]="'about'"
            [length]="4000"
            [label]="'ABOUT'"
            [width]="400"
            [placeholder]="'Place your text'"
            [isReset]="resetUserInfo.about"
            [readonly]="userOnbInfo.about"
            (watchValue)="takeInputValue($event, 'about')"
            [defaultValue]="userOnboardingInfo.controls['about'].value"
          >
          </ait-input-text>
        </div>
        <div class="input_area">
          <ait-country
            [width]="400"
            (watchValue)="takeValueCountry($event)"
            [isReset]="isResetCountry"
            [defaultValue]="userOnboardingInfo.value"
            [isClear]="isClear"
            [isSubmit]="isSubmit"
            [readonly]="userOnbInfo.floor_building"
          ></ait-country>
        </div>
        
        <div class="input_area">
          <ait-input-text
            [id]="'address'"
            [length]="500"
            [width]="400"
            [required]="true"
            [label]="'ADDRESS'"
            [placeholder]="'9 Dinh Tien Hoang Street'"
            [isReset]="resetUserInfo.address"
            [isSubmit]="isSubmit"
            [readonly]="userOnbInfo.floor_building"
            (watchValue)="takeInputValue($event, 'address')"
            [defaultValue]="userOnboardingInfo.controls['address'].value"
          >
          </ait-input-text>
        </div>
        <div class="input_area">
          <ait-input-text
            [id]="'floor_building'"
            [label]="'FLOOR/BUILDING'"
            [length]="500"
            [width]="400"
            [placeholder]="'Floor 9, SFC Building'"
            [isReset]="resetUserInfo.floor_building"
            [isSubmit]="isSubmit"
            [readonly]="userOnbInfo.floor_building"
            (watchValue)="takeInputValue($event, 'floor_building')"
            [defaultValue]="userOnboardingInfo.controls['floor_building'].value"
          >
          </ait-input-text>
        </div>
        <div class="input_area">
          <ait-autocomplete-master-data
            [id]="'company_working'"
            [label]="'COMPANY WORKING'"
            [isSubmit]="isSubmit"
            [allowNew]="true"
            [maxItem]="1"
            [placeholder]="'Aureole IT'"
            [collection]="'m_company'"
            [disableOutputDefault]="true"
            [isReset]="resetUserInfo.company_working"
            [isReadOnly]="userOnbInfo.company_working"
            (watchValue)="takeMasterValue($event, 'company_working')"
            [defaultValue]="[
              userOnboardingInfo.controls['company_working'].value
            ]"
          ></ait-autocomplete-master-data>
        </div>
        <div class="input_area">
          <ait-autocomplete-master-data
            [id]="'title'"
            [label]="'TITLE'"
            [isSubmit]="isSubmit"
            [allowNew]="true"
            [maxItem]="1"
            [placeholder]="'Technical Manager'"
            [collection]="'m_title'"
            [disableOutputDefault]="true"
            [isReset]="resetUserInfo.title"
            [isReadOnly]="userOnbInfo.title"
            (watchValue)="takeMasterValue($event, 'title')"
            [defaultValue]="[userOnboardingInfo.controls['title'].value]"
          ></ait-autocomplete-master-data>
        </div>
        <div class="input_area">
          <ait-autocomplete-master-data
            [id]="'industry'"
            [label]="'INDUSTRY'"
            [required]="true"
            [isSubmit]="isSubmit"
            [allowNew]="true"
            [maxItem]="1"
            [placeholder]="'Computer Software'"
            [collection]="'m_industry'"
            [disableOutputDefault]="true"
            [isReset]="resetUserInfo.industry"
            [isReadOnly]="userOnbInfo.industry"
            (watchValue)="takeMasterValue($event, 'industry')"
            [defaultValue]="[userOnboardingInfo.controls['industry'].value]"
          ></ait-autocomplete-master-data>
        </div>
        <div *ngIf="mode === 'NEW'" class="input_area">
          <ait-autocomplete-master-data
            [id]="'skills'"
            [label]="'SKILLS (MAX 10)'"
            [required]="true"
            [isSubmit]="isSubmit"
            [allowNew]="true"
            [maxItem]="10"
            [placeholder]="'Fill name and enter to add your skills'"
            [collection]="'m_skill'"
            [disableOutputDefault]="true"
            [isReset]="resetUserInfo.skills"
            (watchValue)="
              takeMasterValues($event?.value, 'userOnboardingInfo', 'skills')
            "
          ></ait-autocomplete-master-data>
        </div>
      </div>
    </div>
  </ait-card-content>
  <div class="sticky">
    <div class="action-row">
      <div class="block">
        <ait-button
          *ngIf="mode !== 'VIEW'"
          [id]="'cancel'"
          [title]="'CANCEL'"
          [width]="'200px'"
          [isDefault]="true"
          (click)="back()"
        ></ait-button>

        <ait-button
          *ngIf="mode === 'EDIT'"
          [id]="'delete'"
          [width]="'200px'"
          [title]="'DELETE'"
          [isDefault]="true"
          (click)="onDelete()"
        >
        </ait-button>

        <ait-button
          *ngIf="mode !== 'VIEW'"
          [id]="'reset'"
          [width]="'200px'"
          [title]="'RESET'"
          [isDefault]="true"
          (click)="resetForm()"
        >
        </ait-button>

        <ait-button
          *ngIf="(isChanged && mode === 'EDIT') || mode === 'NEW'"
          [id]="'save'"
          [width]="'200px'"
          [title]="'SAVE'"
          (click)="save()"
          [isDefault]="true"
        >
        </ait-button>
        <ait-button
          *ngIf="!isChanged && mode === 'EDIT'"
          [id]="'save'"
          [width]="'200px'"
          [title]="'SAVE'"
          [style]="'disabled'"
        ></ait-button>
        <ait-button
          *ngIf=" mode === 'VIEW'"
          [id]="'close'"
          [width]="'200px'"
          [title]="'CLOSE'"
          (click)="back()"
          [background]="'linear-gradient(89.75deg, #002b6e 0.23%, #2288cc 99.81%)'"
      ></ait-button>
      </div>
    </div>
  </div>
</div>
