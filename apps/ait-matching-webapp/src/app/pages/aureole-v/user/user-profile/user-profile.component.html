<div class="user_profile_wrapper" id="user_profile">
  <div class="content__card">
    <!-- profile -->
    <div style="background-color: #ffffff">
      <div
        class="user-background"
        aitUploadDirective
        [title]="'Upload image'"
      ></div>
      <div id="parent">
        <div class="col-md-5 col-lg-5 col-xxxl-5" id="col1">
          <div
            class="avatar"
            aitUploadDirective
            (watchValues)="('')"
          >
            <img
              src="https://anhdep123.com/wp-content/uploads/2021/05/avatar-trang-dep.jpg"
              alt="user-avatar"
              style="
                width: 100%;
                height: 100%;
                border-radius: 50%;
                position: absolute;
                z-index: 101;
              "
            />
          </div>
          <div class="user-breakinfo">
            <p id= "fullname_input" class="fullname-profile">
              {{DataUserProfile?.last_name}} {{DataUserProfile?.first_name }}
            </p>
            <p id = "company_input" style="padding-top: 30px">
              <span> {{DataUserProfile?.title?.value }} at {{DataUserProfile?.company_working?.value}} </span>
            </p>
            <p id = "country_region_input" style="margin-top: -10px">
              <span>{{DataUserProfile?.province_city?.value}}, {{DataUserProfile?.country_region?.value}}</span>
            </p>
          </div>
        </div>
        <div class="col-md-5 col-lg-4 col-xxxl-4" id="col2">
          <div  id = "about_input" style="width:100%; margin:0 ; height: 100px;  border: none;
          outline: none; font-size: 13px;overflow: hidden;resize: none;white-space: pre-line">
            {{DataUserProfile?.about}}
          </div>
        </div>
        <div class="col-md-3 col-lg-3 col-xxxl-3" id="col3">
          <div
            class="justify-content-center"
            style="
              display: flex;
              flex-direction: column;
              justify-content: center;
              align-items: center;
              text-align: center;
              align-content: space-around;
            "
          >
            <div
              id="folow"
              style="
                background-image: linear-gradient(
                  89.75deg,
                  #002b6e 0.23%,
                  #2288cc 99.81%
                ) !important;
                -webkit-background-clip: text;
                background-clip: text;
                -webkit-text-fill-color: transparent;
                margin: 0;
                font-weight: bold;
                font-size: 36px;
                padding-top: 20px;
                padding-bottom: 10px;
              "
            >
              0
            </div>
            <span
              style="
                color: #8f9bb3;
                font-family: Open Sans;
                font-style: normal;
                font-weight: normal;
                font-size: 15px;
                margin-bottom: 5px;
              "
              >{{ 'connections' | translate }}</span
            >
            <div class="view_contact" *ngIf="!isMyUserProfile">
              <ait-button
                [id]="'add friend'"
                [styleText]="{ 'font-size': '10px' }"
                [height]="'24px'"
                [title]="'add friend'"
                [isDefault]="true"
              ></ait-button>
            </div>
            <div class="view_contact">
              <ait-button
                (click)="openOnboarding(DataUserProfile?.user_id)"
                [styleText]="{ 'font-size': '10px' }"
                [height]="'24px'"
                [title]="'view contact'"
                [id]="'openOnboarding'"
                [isDefault]="true"
              ></ait-button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- skills -->
    <div style="position: relative;">
      <div class="reorder_skills" style="z-index: 100;" *ngIf="isMyUserProfile">
        <ait-button
          (click)="openReorderSkill()"
          [iconName]="'menu-outline'"
          [color]="'#fff'"
          [styleText]="{ 'font-size': '10px' }"
          [width]="'150px'"
          [height]="'25px'"
          [title]="'reorder skills'"
          [id]="'openReorderSkill'"
          [background]="
            'linear-gradient(89.75deg, #002b6e 0.23%, #2288cc 99.81%)'
          "
        ></ait-button>
      </div>
      <card-content
        tabindex="2"
        [id]="'company_detail'"
        style="outline-color: #10529d"
        class="content_card"
        style="display: flex; justify-content: center"
        [label]="'skills' | translate"
        [styleLabel]="{'font-size':'22px'}"
        (onClickButtonHeader)="openAddSkill()"
        [actionBtn]="isMyUserProfile ? actionBtn : ''"
        [buttonTitle]="'add skills'"
        [disableHeader]="false"
        [widthBtn]="'150px'"
        [content]="countSkill"
        [styleContent]="{'color': '#8F9BB3', 'font-size':'12px', 'margin-top':'12px'}"
        [padding]="'20px'"
        [isOpen]="showSkill"
        [idBtn]="'openAddSkill'"
      >
      <div class="container-user-project">
        <hr class="hr_header">
        <div *ngFor="let category of skillByCategory; let last = last">
          <p class="title-skill">{{ category?.name }}</p>
          <ait-drag-scroll
            [list]="category.data"
            [showField]="'name'"
            [width]="'1500px'"
            [maxWidth]="'1500px'"
            [minWidth]="'1500px'"
            [isNormal]="true"
          ></ait-drag-scroll>
          <hr *ngIf="!last" />
        </div>
      </div>
      </card-content>
    </div>
   
    <!-- project -->
    <card-content
       tabindex="2"
      [id]="'project_detail'"
      style="outline-color: #10529d"
      class="content_card"
      style="display: flex; justify-content: center"
      [label]="'projects' | translate"
      [styleLabel]="{'font-size':'22px'}"
      (onClickButtonHeader)="openProjects()"
      [actionBtn]="isMyUserProfile ? actionBtn : ''"
      [buttonTitle]="'add projects'"
      [disableHeader]="false"
      [widthBtn]="'150px'"
      [content]="sumHoursProject"
      [styleContent]="{'color': '#8F9BB3', 'font-size':'12px', 'margin-top':'12px'}"
      [padding]="'20px'"
      [isOpen]="showProject"
      [idBtn]="'openProjects'"
    >
      <div class="container-user-project" *ngIf="userProject.length > 0">
        <hr class="hr_header">
        <ul
          *ngFor="
            let listProject of userProject;
            let last = last;
            let firstcomp = first
          "
        >
          <li class="timeline-event">
            <div class="timeline-block">
              <div class="img-timeline-cmp">
                <img
                  src="../../../../../assets/images/image.png"
                  alt="project"
                />
              </div>
              <div class="timeline-info">
                <div>
                  <p id="title-timeline">
                    {{ listProject?.company_name }}
                  </p>
                  <div class="desc-info">
                    <p>{{dateDiffInYears(listProject?.working_time) + 's' }}</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="devline"></div>
          </li>
          <li
            class="timeline-event"
            *ngFor="
              let project of listProject?.data_project;
              let last = last;
              let firstproj = first
            "
          >
            <div
              class="timeline-block"
            >
              <div class="img-timeline">
                <img
                  src="../../../../../assets/images/Icon.svg"
                  alt="project"
                  *ngIf="project?.start_date_to && project?.start_date_to <= today"
                />
                <img
                  src="../../../../../assets/images/IconEdit.svg"
                  alt="projectcurrent"
                  *ngIf="!project?.start_date_to || project?.start_date_to > today"
                />
              </div>
              <div class="timeline-info">
                <div>
                  <p id="title-timeline">{{ project.name }}</p>
                  <div class="desc-info">
                    <p>{{ project?.title.value }}</p>
                    <p *ngIf="!project.start_date_to">
                      {{ project?.start_date_from | date:'yyyy/MM' }} - {{'Presen'}}: {{dateDiffInYears(dateDiffInMonths(project?.start_date_from,null))}}
                    </p>
                    <p *ngIf="project.start_date_to">
                      {{ project?.start_date_from | date:'yyyy/MM' }} - {{ project?.start_date_to | date:'yyyy/MM'}}: {{dateDiffInYears(dateDiffInMonths(project?.start_date_from,project?.start_date_to))}}
                    </p>
                  </div>
                </div>
              </div>
              <div id="ic-edit" >
                <a 
                  (click)="openProjects(project?._key)"
                  [id]="'project-' + project?._key"
                  *ngIf="isMyUserProfile"
                >
                  <nb-icon
                    nbSuffix
                    icon="edit-2-outline"
                    pack="eva"
                  ></nb-icon>
                </a>
                <a 
                  (click)="openProjectsDetail(project?._key)"
                  [id]="'project-' + project?._key"
                  *ngIf="!isMyUserProfile"
                >
                  <nb-icon
                    nbSuffix
                    icon="eye-outline"
                    pack="eva"
                  ></nb-icon>
                </a>
              </div>
            </div>
            <div class="devline" *ngIf="!last"></div>
          </li>
          <hr *ngIf="!last" />
        </ul>
      </div>
    </card-content>
    <!-- EXPERIENCE -->
    <card-content
      tabindex="2"
      [isOpen]="showExperience"
      [id]="'experience_detail'"
      style="outline-color: #10529d"
      class="content_card"
      style="display: flex; justify-content: center"
      [label]="'experiencer' | translate"
      [styleLabel]="{'font-size':'22px'}"
      (onClickButtonHeader)="openExperience()"
      [actionBtn]="isMyUserProfile ? actionBtn : ''"
      [buttonTitle]="'add experiencer'"
      [disableHeader]="false"
      [widthBtn]="'150px'"
      [content]="timeExperienceStr"
      [styleContent]="{'color': '#8F9BB3', 'font-size':'12px', 'margin-top':'12px'}"
      [padding]="'20px'"
      [idBtn]="'openExperience'"
    >
    <div class="container-user-project" *ngIf="userExperience.length > 0">
      <hr class="hr_header">
      <ul
        *ngFor="
          let listSxperience of userExperience;
          let last = last;
          let firstcomp = first
        "
      >
        <li class="timeline-event">
          <div class="timeline-block">
            <div class="img-timeline-cmp">
              <img
                src="../../../../../assets/images/image.png"
                alt="project"
              />
            </div>
            <div class="timeline-info">
              <div>
                <p id="title-timeline">
                  {{ listSxperience?.company_name }}
                </p>
                <div class="desc-info">
                  <p>{{dateDiffInYears(listSxperience?.working_time) }}</p>
                </div>
              </div>
            </div>
          </div>
          <div class="devline"></div>
        </li>
        <li
          class="timeline-event"
          *ngFor="
            let experience of listSxperience?.data_project;
            let last = last;
            let firstproj = first
          "
        >
          <div
            class="timeline-block"
          >
            <div class="img-timeline">
              <img
                src="../../../../../assets/images/Icon.svg"
                alt="project"
                *ngIf="experience?.start_date_to && experience?.start_date_to <= today"
              />
              <img
                src="../../../../../assets/images/IconEdit.svg"
                alt="projectcurrent"
                *ngIf="!experience?.start_date_to || experience?.start_date_to > today"
              />
            </div>
            <div class="timeline-info">
              <div>
                <p id="title-timeline">{{experience?.title.value}}</p>
                <div class="desc-info">
                  <p>{{experience?.employee_type?.value}}</p>
                  <p *ngIf="!experience.start_date_to">
                    {{ experience?.start_date_from | date:'yyyy/MM' }} - {{'Presen'}}: {{dateDiffInYears(dateDiffInMonths(experience?.start_date_from,null))}}
                  </p>
                  <p *ngIf="experience.start_date_to">
                    {{ experience?.start_date_from | date:'yyyy/MM' }} - {{ experience?.start_date_to | date:'yyyy/MM'}}: {{dateDiffInYears(dateDiffInMonths(experience?.start_date_from,experience?.start_date_to))}}
                  </p>
                </div>
              </div>
            </div>
            <div id="ic-edit">
              <a 
                (click)="openExperience(experience?._key)"
                [id]="'experience-' + experience?._key"
                *ngIf="isMyUserProfile"
                >
                <nb-icon
                  nbSuffix
                  icon="edit-2-outline"
                  pack="eva"
                ></nb-icon>
              </a>
              <a 
                (click)="openExperiencedetail(experience?._key)"
                [id]="'experience-' + experience?._key"
                *ngIf="!isMyUserProfile"
                >
                <nb-icon
                  nbSuffix
                  icon="eye-outline"
                  pack="eva"
                ></nb-icon>
              </a>
            </div>
          </div>
          <div class="devline" *ngIf="!last"></div>
        </li>
        <hr *ngIf="!last" />
      </ul>
    </div>
    </card-content>
    <!-- CERTIFICATES -->
    <card-content
      tabindex="2"
      [id]="'certificate_detail'"
      style="outline-color: #10529d"
      class="content_card"
      style="display: flex; justify-content: center"
      [label]="'CERTIFICATES'"
      [styleLabel]="{'font-size':'22px'}"
      (onClickButtonHeader)="openCertificate()"
      [actionBtn]="isMyUserProfile ? actionBtn : ''"
      [buttonTitle]="'add certificates'"
      [disableHeader]="false"
      [widthBtn]="'150px'"
      [content]="countCentificate"
      [styleContent]="{'color': '#8F9BB3', 'font-size':'12px', 'margin-top':'12px'}"
      [padding]="'20px'"
      [isOpen]="showCertificate"
      [idBtn]="'openCertificate'"
    >
    <div class="container-user-project" *ngIf="userCentificate.length > 0">
      <hr class="hr_header">
      <ul
        *ngFor="
          let centificate of userCentificate;
          let last = last;
          let firstcomp = first
        "
      >
        <li class="timeline-event">
          <div class="timeline-block">
            <div class="img-timeline-cmp">
              <img
                src="../../../../../assets/images/image.png"
                alt="project"
              />
            </div>
            <div class="timeline-info">
              <div>
                <p id="title-timeline">
                  {{ centificate?.name }}
                </p>
                <div class="desc-info">                    
                  <p>
                    {{
                      centificate?.issue_by
                    }}
                  </p>
                  <p>{{ centificate?.issue_date_from }} - {{ centificate?.issue_date_to }}</p>
                </div>
              </div>
            </div>
            <div id="ic-edit">
              <a 
                (click)="openCertificate(centificate?._key)"
                [id]="'centificate-' + centificate?._key"
                *ngIf="isMyUserProfile"
                >
                <nb-icon                
                  nbSuffix
                  icon="edit-2-outline"
                  pack="eva"
                ></nb-icon>
              </a>
              <a 
                (click)="openCertificateDetail(centificate?._key)"
                [id]="'centificate-' + centificate?._key"
                *ngIf="!isMyUserProfile"
                >
                <nb-icon
                  nbSuffix
                  icon="eye-outline"
                  pack="eva"
                ></nb-icon>
              </a>
            </div>
          </div>
        </li>

        <hr *ngIf="!last" />
      </ul>
    </div>
    </card-content>
    <!-- course -->
    <card-content
      [isOpen]="showCourse"
      tabindex="2"
      [id]="'course_detail'"
      style="outline-color: #10529d"
      class="content_card"
      style="display: flex; justify-content: center"
      [label]="'course'"
      [styleLabel]="{'font-size':'22px'}"
      (onClickButtonHeader)="openCourse()"
      [actionBtn]="isMyUserProfile ? actionBtn : ''"
      [buttonTitle]="'add course'"
      [disableHeader]="false"
      [widthBtn]="'150px'"
      [content]="countCourse"
      [styleContent]="{'color': '#8F9BB3', 'font-size':'12px', 'margin-top':'12px'}"
      [padding]="'20px'"
      [idBtn]="'openCourse'"
    >
    <div class="container-user-project" *ngIf="userCourse.length > 0">
      <hr class="hr_header">
      <ul
        *ngFor="
          let course of userCourse;
          let last = last;
          let firstcomp = first
        "
      >
        <li class="timeline-event">
          <div class="timeline-block">
            <div class="img-timeline-cmp">
              <img
                src="../../../../../assets/images/image.png"
                alt="project"
              />
            </div>
            <div class="timeline-info">
              <div>
                <p id="title-timeline">
                  {{ course?.name }}
                </p>
                <div class="desc-info">
                  <p>
                    {{
                      course?.training_center
                    }}
                  </p>
                  <p>{{ course?.start_date_from }} - {{course?.start_date_to}}</p>
                </div>
              </div>
            </div>
            <div id="ic-edit">
              <a 
                (click)="openCourse(course?._key)"
                [id]="'course-' + course?._key"
                *ngIf="isMyUserProfile"
                >
                <nb-icon
                  nbSuffix
                  icon="edit-2-outline"
                  pack="eva"
                ></nb-icon>
              </a>
              <a 
                (click)="openCourseDetail(course?._key)"
                [id]="'course-' + course?._key"
                *ngIf="!isMyUserProfile"
                >
                <nb-icon
                  nbSuffix
                  icon="eye-outline"
                  pack="eva"
                ></nb-icon>
              </a>
            </div>
          </div>
        </li>

        <hr *ngIf="!last" />
      </ul>
    </div>
    </card-content>
    <!-- education -->
    <card-content
    tabindex="2"
    [isOpen]="showEducation"
    [id]="'education_detail'"
    style="outline-color: #10529d"
    class="content_card"
    style="display: flex; justify-content: center"
    [label]="'educations'"
    [styleLabel]="{'font-size':'22px'}"
    (onClickButtonHeader)="openEducation()"
    [actionBtn]="isMyUserProfile ? actionBtn : ''"
    [buttonTitle]="'add educations'"
    [disableHeader]="false"
    [widthBtn]="'150px'"
    [styleContent]="{'color': '#8F9BB3', 'font-size':'12px', 'margin-top':'12px'}"
    [padding]="'20px'"
    [content]="''"
    [idBtn]="'openEducation'"
  >
  <div class="container-user-project" *ngIf="userEducation.length > 0">
    <hr class="hr_header">
    <ul
      *ngFor="
        let education of userEducation;
        let last = last;
        let firstcomp = first
      "
    >
      <li class="timeline-event">
        <div class="timeline-block">
          <div class="img-timeline-cmp">
            <img
              src="../../../../../assets/images/image.png"
              alt="project"
            />
          </div>
          <div class="timeline-info">
            <div>
              <p id="title-timeline">
                {{ education?.school }}
              </p>
              <div class="desc-info">
                <p style="text-decoration-line: underline;">
                  {{
                    education?.field_of_study
                  }}
                </p>
                <p *ngIf="!education.start_date_to">
                  {{ education?.start_date_from | date:'yyyy/MM' }} - {{'Presen'}}
                </p>
                <p *ngIf="education.start_date_to">
                  {{ education?.start_date_from | date:'yyyy/MM' }} - {{education?.start_date_to | date:'yyyy/MM'}}
                </p>
              </div>
            </div>
          </div>
          <div id="ic-edit">
            <a (click)="openEducation(education?._key)" [id]="'education-' + education?._key" *ngIf="isMyUserProfile">
              <nb-icon
                nbSuffix
                icon="edit-2-outline"
                pack="eva"
              ></nb-icon>
            </a>
            <a (click)="openEducationDetail(education?._key)" [id]="'education-' + education?._key" *ngIf="!isMyUserProfile">
              <nb-icon
                nbSuffix
                icon="eye-outline"
                pack="eva"
              ></nb-icon>
            </a>
          </div>
        </div>
      </li>

      <hr *ngIf="!last" />
    </ul>
  </div>
  </card-content>
    <!-- LANGUAGES -->
    <card-content
       tabindex="2"
       [isOpen]="showLanguages"
      [id]="'language_detail'"
      style="outline-color: #10529d"
      class="content_card"
      style="display: flex; justify-content: center"
      [label]="'languages'"
      [styleLabel]="{'font-size':'22px'}"
      (onClickButtonHeader)="openLanguage()"
      [actionBtn]="isMyUserProfile ? actionBtn : ''"
      [buttonTitle]="'add languages'"
      [disableHeader]="false"
      [widthBtn]="'150px'"
      [content]="''"
      [styleContent]="{'color': '#8F9BB3', 'font-size':'12px', 'margin-top':'12px'}"
      [padding]="'20px'"
      [idBtn]="'openLanguage'"
    >
    
        <div class="container-user-project" *ngIf="userLanguage.length > 0">
          <hr class="hr_header">
          <ul
            *ngFor="
              let language of userLanguage;
              let last = last;
              let firstcomp = first
            "
          >
            <li class="timeline-event">
              <div class="timeline-block">
                <div class="img-timeline-cmp">
                  <img
                    class="languagea-img"
                    [src]="language.image"
                    alt="project"
                  />
                </div>
                <div class="timeline-info">
                  <div>
                    <p id="title-timeline">
                      {{ language?.language }}
                    </p>
                    <div class="desc-info">
                      <p style="text-decoration-line: underline;">{{ language?.proficiency }}</p>
                    </div>
                  </div>
                </div>
                <div id="ic-edit">
                  <a (click)="openLanguage( language?._key)" [id]="'language-' + language?._key "  *ngIf="isMyUserProfile">
                    <nb-icon
                      nbSuffix
                      icon="edit-2-outline"
                      pack="eva"
                    ></nb-icon>
                  </a>
                  <a (click)="openLanguageDetail( language?._key)" [id]="'language-' + language?._key " *ngIf="!isMyUserProfile">
                    <nb-icon
                      nbSuffix
                      icon="eye-outline"
                      pack="eva"
                    ></nb-icon>
                  </a>
                </div>
              </div>
            </li>

            <hr *ngIf="!last" />
          </ul>
        </div>
    </card-content>
  </div>
</div>
