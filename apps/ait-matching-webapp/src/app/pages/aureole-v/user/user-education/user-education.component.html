<ait-template-popup
  [width]="1000"
  [isLoading]="true"
  [isPage]="false"
>
<div class="user__education__wrapper" id="user_education">
  <ait-text-gradient
    [content]="getTitleByMode()"
  ></ait-text-gradient>
  <ait-card-content style="justify-content: center" class="content__card">
    <div style="margin-top: 14px">
      <div class="input_area">
        <ait-autocomplete-master-data
          [id]="'school'"
          [label]="'SCHOOL'"
          [required]="true"
          [allowNew]="true"
          [maxItem]="1"
          [placeholder]="'BACH KHOA Ho Chi Minh Technology University'"
          [collection]="'m_school'"
          [disableOutputDefault]="true"
          [isReset]="resetUserInfo.school"
          [isReadOnly]="resetUserInfo.school"
          (watchValue)="takeMasterValue($event, 'school')"
          [defaultValue]="[userEducationInfo.controls['school'].value]"
          [isSubmit]="isSubmit"
        ></ait-autocomplete-master-data>
      </div>
      <div class="input_area">
        <ait-input-text
          [length]="400"
          [id]="'degree'"
          [label]="'DEGREE'"
          [placeholder]="'engineer'"
          [isReset]="resetUserInfo.degree"
          [readonly]="resetUserInfo.degree"
          (watchValue)="takeInputValue($event, 'degree')"
          [defaultValue]="userEducationInfo.controls['degree'].value"
        >
        </ait-input-text>
      </div>

      <div class="input_area">
        <ait-input-text
          [length]="400"
          [id]="'field_of_study'"
          [label]="'FIELD OF STUDY'"
          [placeholder]="'Ex: Computer'"
          [isReset]="resetUserInfo.field_of_study"
          [readonly]="resetUserInfo.field_of_study"
          (watchValue)="takeInputValue($event, 'field_of_study')"
          [defaultValue]="userEducationInfo.controls['field_of_study'].value"
        >
        </ait-input-text>
      </div>

      <div class="input_area">
        <ait-input-text
          [length]="400"
          [id]="'grade'"
          [label]="'GRADE'"
          [placeholder]="'Good'"
          [isReset]="resetUserInfo.grade"
          [readonly]="resetUserInfo.grade"
          (watchValue)="takeInputValue($event, 'grade')"
          [defaultValue]="userEducationInfo.controls['grade'].value"
        >
        </ait-input-text>
      </div>

      <div class="start-date">
        <ait-datepicker
          [label]="'START DATE'"
          [format]="'yyyy/MM'"
          [placeholder]="'2021/01'"
          [id]="'start_date_from'"
          [style]="{ width: '185px' }"
          [isReset]="resetUserInfo.start_date_from"
          [defaultValue]="userEducationInfo.controls['start_date_from'].value"
          (watchValue)="
            takeDatePickerValue(
              $event?.value,
              'userEducationInfo',
              'start_date_from'
            )
          "
        ></ait-datepicker>
        <span>ã€œ</span>
        <ait-datepicker
          [placeholder]="'2021/01'"
          [format]="'yyyy/MM'"
          [id]="'start_date_to'"
          [style]="{ width: '185px' }"
          [isReset]="resetUserInfo.start_date_to"
          [defaultValue]="userEducationInfo.controls['start_date_to'].value"
          (watchValue)="
            takeDatePickerValue(
              $event?.value,
              'userEducationInfo',
              'start_date_to'
            )
          "
        ></ait-datepicker>
      </div>
      <ait-error-message
        [id]="'start-date'"
        [errors]="errorArr"
      ></ait-error-message>

      <div class="input_area">
        <ait-input-text
          [id]="'description'"
          [length]="4000"
          [rows]="4"
          [label]="'DESCRIPTION'"
          [placeholder]="'Place your text'"
          [width]="'415px'"
          [isReset]="resetUserInfo.description"
          [readonly]="resetUserInfo.description"
          (watchValue)="takeInputValue($event, 'description')"
          [defaultValue]="userEducationInfo.controls['description'].value"
        >
        </ait-input-text>

        <div class="input_area">
          <ait-label [label]="'FILES'"></ait-label>
          <label class="file-max"  style="display: flex !important;"
            ><nb-icon icon="attach-outline"></nb-icon>
            <ait-label [label]="'Upload max 5 files and 10MB/file.'"></ait-label>
          </label>
          <ait-input-file
            [id]="'file'"
            [maxSize]="1000"
            [maxFiles]="5"
            [required]="false"
            [hasStatus]="false"
            [isReset]="isResetFile"
            [placeholder]="'Select file'"
            [fileKeys]="userEducationInfo.controls['file'].value"
            (watchValue)="takeFiles($event.value)"
            [isSubmit]="isSubmit"            
          ></ait-input-file>
        </div>
      </div>
    </div>
  </ait-card-content>
  <div class="sticky">
    <div class="action-row">
      <div class="block">
        <ait-button
          *ngIf="mode !== 'VIEW'"
          [id]="'cancel'"
          [title]="'CANCEL'"
          [isDefault]="true"
          (click)="back()"
        ></ait-button>

        <ait-button
          *ngIf="mode === 'EDIT'"
          [id]="'delete'"
          [width]="'200px'"
          [title]="'DELETE'"
          (click)="onDelete()"
          [isDefault]="true"
        >
        </ait-button>

        <ait-button
          *ngIf="mode !== 'VIEW'"
          [id]="'reset'"
          [width]="'200px'"
          [title]="'RESET'"
          (click)="resetForm()"
          [isDefault]="true"
        >
        </ait-button>

        <ait-button
          *ngIf="mode === 'NEW'"
          [id]="'saveAndContinue'"
          [title]="'SAVE & CONTINUE'"
          (click)="saveAndContinue()"
          [isDefault]="true"
        ></ait-button>

        <ait-button
          [id]="'saveAndClose'"
          *ngIf="(isChanged && mode === 'EDIT') || mode === 'NEW'"
          [width]="'200px'"
          [title]="'SAVE & CLOSE'"
          (click)="saveAndClose()"
          [isDefault]="true"
        >
        </ait-button>
        <ait-button
          *ngIf="!isChanged && mode === 'EDIT'"
          [id]="'saveAndClose'"
          [width]="'200px'"
          [title]="'SAVE & CLOSE'"
          [style]="'disabled'"
        ></ait-button>
      </div>
    </div>
  </div>
</div>
</ait-template-popup>

