
<div
class="input__container"
[ngStyle]="style"
[ngStyle]="{ width: widthInput + 'px' }"
>
<div
  style="
    width: 100%;
    height: 100%;
    background-color: transparent;
    display: flex;
  "
>
  <div
    #myIdentifier
    class="span"
    *ngIf="optionSelected.length !== 0 && !isReadOnly && !isHideLabel"
    nbPrefix
  >
    <p
      [nbTooltip]="displayOptions()"
      [ngStyle]="styleInput"
      style="font-weight: bold; font-size: 12px"
    >
      {{ getSelectedItems(optionSelected) }}
    </p>
  </div>

  <input
    fullWidth
    nbInput
    [value]="VALUE"
    type="text"
    class="search"
    [ngStyle]="styleInput"
    [placeholder]="placeholder"
    [disabled]="isReadOnly"
    [readOnly]="isReadOnly"
    *ngIf="isReadOnly"
    style="font-size: 12px"
    #input
  />

  <input
    *ngIf="!isReadOnly"
    [formControl]="inputControl"
    [placeholder]="PLACEHOLDER"
    [value]="VALUE"
    fullWidth
    nbInput
    #input
    type="text"
    class="search"
    style="padding-left: 10px; font-size: 12px"
    [ngStyle]="styleInput"
    (click)="handleClick()"
    (input)="handleInput($event.target.value)"
    (focus)="onFocus()"
    (focusout)="outFocus()"
    (blur)="!isSelectMatch(input.value) ? (input.value = '') : null"
    (keydown.tab)="onTab()"
  />
  <div class="autocompleteeeee" *ngIf="MAXITEM !== 1 && isOpenAutocomplete">
    <div
      *ngFor="let option of filteredOptions$ | async"
      class="option__container"
      style="cursor: pointer; position: relative; height: 37px"
    >
      <div
        (click)="optionClicked($event, option)"
        style="
          position: absolute;
          height: 100%;
          width: 100%;
          z-index: 9999;
          background-color: transparent;
        "
      ></div>
      <nb-checkbox
        [(checked)]="option.isChecked"
        style="cursor: pointer; margin-left: 15px"
        [status]="'primary'"
      >
        <span style="cursor: pointer; font-size: 12px">{{
          option?.value
        }}</span>
      </nb-checkbox>
    </div>
  </div>
  <div class="autocompleteeeee" *ngIf="MAXITEM === 1 && isOpenAutocomplete">
    <div
      *ngFor="let option of filteredOptions$ | async"
      (click)="onSelectionChange(option)"
      class="option__container"
      style="cursor: pointer"
    >
      <span
        style="
          cursor: pointer;
          font-weight: 600;
          font-size: 12px;
          margin: 5px;
          margin-left: 15px;
        "
        >{{ option?.value }}</span
      >
    </div>
  </div>
  <div class="icon">
    <div *ngIf="!isOpenAutocomplete">
      <nb-icon
        style="color: gray; margin: 8px; cursor: pointer"
        [icon]="'arrow-ios-downward-outline'"
        pack="eva"
      ></nb-icon>
    </div>
    <div *ngIf="isOpenAutocomplete">
      <nb-icon
        style="color: gray; margin: 8px; cursor: pointer"
        [icon]="'arrow-ios-upward-outline'"
        pack="eva"
      ></nb-icon>
    </div>
  </div>
</div>
</div>
